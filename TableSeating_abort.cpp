#include <vector>
#include <list>
#include <map>
#include <set>
#include <queue>
#include <deque>
#include <stack>
#include <bitset>
#include <algorithm>
#include <functional>
#include <numeric>
#include <limits>
#include <tuple>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>

using namespace std;

double dp[13][13];

void debug(int tables, int consumers){
    cout << "custmers|";
    for(int j=1; j<=consumers; j++)
	printf(" %5d", j);
    string line(90, '-');
    cout << endl << line << endl;
    for(int i=1; i<=tables; i++){
	string space= (i<10)? "  ":" ";
	cout << "table" << space << i << "|";
	for(int j=1; j<=consumers; j++)
	    printf(" %5.2f", dp[i][j]);
	cout << endl;
    }

}

class TableSeating {
public:
	double getExpected(int numTables, vector <int> probs) {
	    double res=0; dp[1][1]=1*probs[0]/100;
	    for(int i=2; i<=numTables; ++i){
		for(int j=1; j<=i; ++j){
		    if(j==1)
//			dp[i][j]=i;
			dp[i][j]=i * probs[j-1]/100;
		    else if(i==j){
//			dp[i][j]=i;
			dp[i][j]=i * probs[j-1]/100;
		    }
		    else{
			double temp=0.0;
			for(int k=0; k<=i-j; ++k){
//			    if(i==9 and j==3){
//				printf("dp[%d][%d] + %d + dp[%d][%d]\n", k,j,j,i-j-k,j);
//			    }
			    
//			    temp += dp[k][j] + j + dp[i-j-k][j];
			    temp += dp[k][j] + j * probs[j-1]/100 + dp[i-j-k][j];
			}
			dp[i][j] = temp/(i-j+1);
		    }
		}
	    }
//	    debug(numTables,probs.size());
//	    int table = min(numTables, (int)probs.size());
	    for(int i=1; i<=probs.size(); ++i){
		res += dp[numTables][i];
//		res += dp[numTables][i] * probs[i]/100;
	    }
	    return res;
	}
};


// BEGIN KAWIGIEDIT TESTING
// Generated by KawigiEdit-pf 2.3.0
#include <iostream>
#include <string>
#include <vector>
#include <ctime>
#include <cmath>
using namespace std;
bool KawigiEdit_RunTest(int testNum, int p0, vector <int> p1, bool hasAnswer, double p2) {
	cout << "Test " << testNum << ": [" << p0 << "," << "{";
	for (int i = 0; int(p1.size()) > i; ++i) {
		if (i > 0) {
			cout << ",";
		}
		cout << p1[i];
	}
	cout << "}";
	cout << "]" << endl;
	TableSeating *obj;
	double answer;
	obj = new TableSeating();
	clock_t startTime = clock();
	answer = obj->getExpected(p0, p1);
	clock_t endTime = clock();
	delete obj;
	bool res;
	res = true;
	cout << "Time: " << double(endTime - startTime) / CLOCKS_PER_SEC << " seconds" << endl;
	if (hasAnswer) {
		res = answer == answer && fabs(p2 - answer) <= 1e-9 * max(1.0, fabs(p2));
	}
	if (!res) {
		cout << "DOESN'T MATCH!!!!" << endl;
		if (hasAnswer) {
			cout << "Desired answer:" << endl;
			cout << "\t" << p2 << endl;
		}
		cout << "Your answer:" << endl;
		cout << "\t" << answer << endl;
	} else if (double(endTime - startTime) / CLOCKS_PER_SEC >= 2) {
		cout << "FAIL the timeout" << endl;
		res = false;
	} else if (hasAnswer) {
		cout << "Match :-)" << endl;
	} else {
		cout << "OK, but is it right?" << endl;
	}
	cout << "" << endl;
	return res;
}
int main() {
	bool all_right;
	bool disabled;
	bool tests_disabled;
	all_right = true;
	tests_disabled = false;
	
	int p0;
	vector <int> p1;
	double p2;
	
	// ----- test 0 -----
	disabled = false;
	p0 = 12;
	p1 = {50,50};
	p2 = 10.481925778559631;
	all_right = (disabled || KawigiEdit_RunTest(0, p0, p1, true, p2) ) && all_right;
	tests_disabled = tests_disabled || disabled;
	// ------------------
	
	// ----- test 1 -----
	disabled = false;
	p0 = 12;
	p1 = {10, 10, 10, 10, 10, 10, 10, 10, 10, 5, 5};
	p2 = 10.481925778559631;
	all_right = (disabled || KawigiEdit_RunTest(1, p0, p1, true, p2) ) && all_right;
	tests_disabled = tests_disabled || disabled;
	// ------------------
	
	// ----- test 2 -----
	disabled = false;
	p0 = 5;
	p1 = {0,0,0,0,0,50,50};
	p2 = 0.0;
	all_right = (disabled || KawigiEdit_RunTest(2, p0, p1, true, p2) ) && all_right;
	tests_disabled = tests_disabled || disabled;
	// ------------------
	
	// ----- test 3 -----
	disabled = false;
	p0 = 12;
	p1 = {9,9,9,9,9,9,9,9,9,9,10};
	p2 = 7.871087929710551;
	all_right = (disabled || KawigiEdit_RunTest(3, p0, p1, true, p2) ) && all_right;
	tests_disabled = tests_disabled || disabled;
	// ------------------
	
	if (all_right) {
		if (tests_disabled) {
			cout << "You're a stud (but some test cases were disabled)!" << endl;
		} else {
			cout << "You're a stud (at least on given cases)!" << endl;
		}
	} else {
		cout << "Some of the test cases had errors." << endl;
	}
	return 0;
}
// PROBLEM STATEMENT
// Your restaurant has numTables tables to seat customers.  The tables are all arranged in a line.  If a large party of customers comes in, a group of adjacent tables will be used.  Which group of tables is entirely up to the customer.  Since you cannot predict this, assume all possible choices occur with equal probability.  What you can predict is the size of each group of customers that arrives.  Element i of probs gives the probability, in percent, that an entering party will need i+1 tables. 
// 
// Assuming nobody leaves, return the expected number of tables you will use before a party must be turned away.  This only occurs if there is no place to seat them.  
// 
// DEFINITION
// Class:TableSeating
// Method:getExpected
// Parameters:int, vector <int>
// Returns:double
// Method signature:double getExpected(int numTables, vector <int> probs)
// 
// 
// NOTES
// -Return values must be accurate to 1e-9, relative or absolute.
// 
// 
// CONSTRAINTS
// -numTables will be between 1 and 12 inclusive.
// -probs will contain between 1 and 12 elements inclusive.
// -Each element of probs will be between 0 and 100 inclusive.
// -The elements of probs will sum to 100.
// 
// 
// EXAMPLES
// 
// 0)
// 4
// {100}
// 
// Returns: 4.0
// 
// Since every party needs only 1 table, you will always fill the restaurant before turning someone away.
// 
// 1)
// 4
// {0,100}
// 
// Returns: 3.3333333333333335
// 
// Now every party wants 2 tables.  One third of the time, the first party will choose the middle 2 tables blocking anyone else from being seated.  Two thirds of the time, the first party will choose 2 tables on the end allowing the restaurant to become full.  Thus, the returned value is (1/3)*2 + (2/3)*4 = 10/3.
// 
// 2)
// 5
// {0,0,0,0,0,50,50}
// 
// Returns: 0.0
// 
// You have 5 tables, but every party needs 6 or 7 tables.
// 
// 3)
// 12
// {9,9,9,9,9,9,9,9,9,9,10}
// 
// Returns: 7.871087929710551
// 
// END KAWIGIEDIT TESTING
//Powered by KawigiEdit-pf 2.3.0!
